---
title: FLIP 系统介绍：共享元素过渡
date: '2022-08-10'
tags: ['FLIP', 'animation', 'flutter', 'flutter hero', '动画']
draft: false
summary: '共享元素过渡（shared element transition）'
---

import Sandpack from '@/example/FLIP/ShareElmTrans.jsx'

在[上篇](./FLIP%20%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D%EF%BC%9A%E4%BB%80%E4%B9%88%E6%98%AFFLIP)文章的代码中，展示了如何将`FLIP`技术应用到同一个元素上，接下来介绍另一种应用。

## 共享元素过渡（shared element transition）

```javascript
const firstElm = document.querySelector('.first-element')

// First: 获取一个元素（firstElm）的大小及其相对于视口的位置。
const first = firstElm.getBoundingClientRect()
// First: 有时需要隐藏原来的元素
firstElm.style.setProperty('visibility', 'hidden')

//执行一些操作让元素发生变化，可以是click或者hover。
// 通常这些操作会和另一个元素（lastElm）有关
doSomething()

// Last: 获取一个另一个元素（lastElm）的大小及其相对于视口的位置。
const lastElm = document.querySelector('.last-element')
const last = lastElm.getBoundingClientRect()

// 其他步骤 Invert,Play 和之前类似。
```

<Sandpack />
